<div
  *ngIf="portfolioDetails && portfolioDetails.user.userId; else loading"
  class="bg-gradient-to-b from-[#0b002b] to-[#15002f] text-white font-sans"
>
  <!-- Navbar -->
  <nav
    class="flex items-center justify-between px-8 py-6 border-b border-white/10"
  >
    <div class="text-xl font-bold">🌙</div>
    <ul class="flex space-x-6 text-gray-300">
      <li><a href="#" class="hover:text-white">Home</a></li>
      <li><a href="#" class="hover:text-white">About</a></li>
      <li><a href="#" class="hover:text-white">Labs</a></li>
    </ul>
  </nav>

  <!-- About Section -->
  <section class="flex flex-col items-center text-center py-16">
    <img
      src="https://avatars.githubusercontent.com/u/9919?s=280&v=4"
      alt="Avatar"
      class="w-24 h-24 rounded-full mb-4 shadow-lg"
    />
    <h2 class="text-gray-400 text-sm mb-2">
      Hello! I’m
      <a href="#" class="text-purple-500 hover:underline"
        >{{ portfolioDetails.user.name }}</a
      >
    </h2>
    <h1 class="text-3xl md:text-5xl font-bold mb-4">
      Judges a book <br />
      by its <span class="text-purple-500">cover.</span>
    </h1>
    <p class="max-w-2xl text-gray-400 mb-6 px-4">
      I'm a Software Engineer. I craft beautiful user experiences, design
      systems, and solve design problems with code.
    </p>
  </section>

  <!-- Education Section -->
  <!-- <section class="py-16 max-w-6xl mx-auto px-4">
    <h1 class="text-5xl font-bold text-gray-400 text-center mb-10">
      Education
    </h1>

    <div
      class="bg-white/5 backdrop-blur-sm rounded-lg border border-white/10 overflow-x-auto"
    >
      <table class="min-w-full text-left">
        <thead>
          <tr class="border-b border-white/10">
            <th class="px-6 py-4 text-lg font-semibold text-white">
              Degree / Certificate
            </th>
            <th class="px-6 py-4 text-lg font-semibold text-white">
              Institution / Board
            </th>
            <th class="px-6 py-4 text-lg font-semibold text-white">
              CGPA / Percentage
            </th>
            <th class="px-6 py-4 text-lg font-semibold text-white">Year</th>
          </tr>
        </thead>
        <tbody>
          <tr class="hover:bg-white/10 transition">
            <td class="px-6 py-4 text-gray-400">BCA</td>
            <td class="px-6 py-4 text-gray-400">Allahabad University</td>
            <td class="px-6 py-4 text-gray-400">68.4%</td>
            <td class="px-6 py-4 text-gray-400">2017 - 2020</td>
          </tr>
          <tr class="hover:bg-white/10 transition">
            <td class="px-6 py-4 text-gray-400">MCA</td>
            <td class="px-6 py-4 text-gray-400">NIT Jamshedpur</td>
            <td class="px-6 py-4 text-gray-400">7.92</td>
            <td class="px-6 py-4 text-gray-400">2020 - 2023</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section> -->

  <!-- Work Experience -->
  <section class="py-16 max-w-6xl mx-auto px-4">
    <h3 class="text-5xl font-bold text-gray-400 text-center mb-10">
      Work Experience
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">CSS on the Mobile</h4>
        <p class="text-gray-400 text-sm">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>
      </div>
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">CSS on the Mobile</h4>
        <p class="text-gray-400 text-sm">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>
      </div>
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">CSS on the Mobile</h4>
        <p class="text-gray-400 text-sm">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>
      </div>
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">CSS on the Mobile</h4>
        <p class="text-gray-400 text-sm">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit.
        </p>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <section class="py-16 max-w-6xl mx-auto px-4">
    <h3 class="text-5xl font-bold text-gray-400 text-center mb-12">Skills</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Skill Card -->
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">HTML</h4>
        <p class="text-gray-400 text-sm mb-3">
          Expert in crafting semantic HTML.
        </p>
        <div class="w-full bg-gray-700 rounded-full h-2.5">
          <div class="bg-blue-600 h-2.5 rounded-full" style="width: 35%"></div>
        </div>
        <p class="text-gray-400 text-xs mt-1">35%</p>
      </div>

      <!-- Skill Card -->
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">CSS</h4>
        <p class="text-gray-400 text-sm mb-3">Master of responsive design.</p>
        <div class="w-full bg-gray-700 rounded-full h-2.5">
          <div class="bg-green-500 h-2.5 rounded-full" style="width: 90%"></div>
        </div>
        <p class="text-gray-400 text-xs mt-1">90%</p>
      </div>

      <!-- Skill Card -->
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">JavaScript</h4>
        <p class="text-gray-400 text-sm mb-3">
          Proficient in modern JavaScript.
        </p>
        <div class="w-full bg-gray-700 rounded-full h-2.5">
          <div
            class="bg-yellow-500 h-2.5 rounded-full"
            style="width: 85%"
          ></div>
        </div>
        <p class="text-gray-400 text-xs mt-1">85%</p>
      </div>

      <!-- Skill Card -->
      <div
        class="bg-white/5 backdrop-blur-sm rounded-lg p-6 border border-white/10 hover:scale-[1.02] transition"
      >
        <h4 class="text-lg font-semibold text-white mb-2">TypeScript</h4>
        <p class="text-gray-400 text-sm mb-3">
          Skilled in building scalable apps.
        </p>
        <div class="w-full bg-gray-700 rounded-full h-2.5">
          <div
            class="bg-purple-500 h-2.5 rounded-full"
            style="width: 80%"
          ></div>
        </div>
        <p class="text-gray-400 text-xs mt-1">80%</p>
      </div>
    </div>
  </section>

  <!-- My Projects Section -->
  <section class="py-16 max-w-7xl mx-auto px-4">
    <h3 class="text-5xl font-bold text-gray-400 text-center mb-12">
      My Projects
    </h3>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Loop through projects -->
      <div
        *ngFor="let project of portfolioDetails.projects"
        class="bg-white/5 backdrop-blur-sm rounded-xl overflow-hidden border border-white/10 hover:scale-[1.02] transition transform shadow-lg"
      >
        <div class="relative">
          <img
            src="images/1st_project.PNG"
            [alt]="project.title"
            class="w-full h-56 object-cover"
          />
          <div
            class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"
          ></div>
        </div>
        <div class="p-6">
          <h4 class="text-xl font-bold text-white mb-2">{{ project.title }}</h4>
          <p class="text-gray-400 mb-2 text-sm">{{ project.description }}</p>
          <p class="text-gray-500 text-xs mb-1">
            <strong>Tech Stack:</strong> {{ project.techStack }}
          </p>
          <p class="text-gray-500 text-xs mb-4">
            <strong>Duration:</strong> {{ formatDate(project.startDate) }} - {{
            formatDate(project.endDate) }}
          </p>
          <a
            *ngIf="project.repoLink && project.repoLink !== 'string'"
            [href]="project.repoLink"
            target="_blank"
            class="inline-block mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
          >
            Source Code
          </a>
          <a
            *ngIf="project.repoLink && project.repoLink !== 'string'"
            [href]="project.repoLink"
            target="_blank"
            class="inline-block mt-2 ml-2 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 transition"
          >
            Live Project
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Certification Section -->
  <section class="max-w-7xl mx-auto px-4 py-20 space-y-24">
    <h3 class="text-4xl font-bold text-gray-400 text-center mb-10">
      Certificates / Portfolios / Achievements
    </h3>

    <!-- Certificate 1 -->
    <div
      *ngFor="let certificate of portfolioDetails.certificates; let i = index"
      class="flex flex-col md:flex-row"
      [ngClass]="{'md:flex-row-reverse': i % 2 !== 0, 'items-center': true}"
    >
      <!-- Image -->
      <div
        class="relative w-full md:w-1/2 overflow-hidden rounded-xl shadow-lg p-10"
      >
        <!-- Image -->
        <img
          src="images/1st_project.PNG"
          alt="{{ certificate.title }}"
          class="object-cover w-full h-full transform hover:scale-105 transition duration-500 rounded-xl"
        />

        <!-- Strong solid overlay -->
        <div
          class="absolute inset-0 rounded-xl"
          [ngClass]="{
            'bg-gradient-to-bl from-blue-600/40 to-purple-500/30': i % 2 === 0,
            'bg-gradient-to-tr from-pink-500/40 to-yellow-400/30': i % 2 !== 0
          }"
          style="opacity: 5"
        ></div>

        <!-- Badge -->
        <div
          class="absolute top-4 left-4 text-white text-lg font-bold w-15 h-15 flex items-center justify-center rounded-full shadow-lg z-20"
          [ngClass]="{
            'bg-blue-600': i % 2 === 0,
            'bg-pink-600': i % 2 !== 0
          }"
        >
          {{ i + 1 }}
        </div>
      </div>

      <!-- Content -->
      <div class="w-full md:w-1/2 mt-8 md:mt-0 md:pl-12">
        <h3 class="text-3xl font-bold text-white mb-4">
          {{ certificate.title }}
        </h3>
        <p class="text-gray-400 mb-4">{{ certificate.description }}</p>
        <p class="text-gray-400 mb-4">
          <strong>Issued By:</strong> {{ certificate.issuer }}
        </p>
        <p class="text-gray-400 mb-4">
          <strong>Issued on:</strong>
          {{ formatDate(certificate.issueDate) }}
        </p>
        <a
          *ngIf="certificate.certificateUrl"
          [href]="certificate.certificateUrl"
          target="_blank"
          class="inline-block mt-6 px-6 py-3 rounded text-white transition"
          [ngClass]="{
          'bg-blue-600 hover:bg-blue-700': i % 2 === 0,
          'bg-pink-600 hover:bg-pink-700': i % 2 !== 0
        }"
        >
          View
        </a>
      </div>
    </div>
  </section>

  <!-- Social Links -->
  <section class="flex justify-center items-center space-x-4 my-12">
    <a href="#" class="text-gray-400 hover:text-white text-xl"
      ><i class="fa-brands fa-github"></i> 🌟</a
    >
    <a href="#" class="text-gray-400 hover:text-white text-xl"
      ><i class="fa-brands fa-twitter"></i> 💬</a
    >
    <a href="#" class="text-gray-400 hover:text-white text-xl"
      ><i class="fa-brands fa-linkedin"></i> 🔗</a
    >
  </section>

  <!-- Orb / Graphic Section -->
  <section class="flex justify-center items-center py-20">
    <div
      class="w-48 h-48 rounded-full bg-gradient-to-br from-purple-700 to-purple-500 flex items-center justify-center shadow-purple-500/50 shadow-2xl"
    >
      <span class="text-5xl">⏳</span>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="py-16 text-center">
    <h3 class="text-5xl font-bold text-gray-400 mb-4">Contact</h3>
    <p class="text-gray-400 mb-4">
      I'm currently looking to join a cross-functional team.
    </p>
    <div class="flex justify-center space-x-6">
      <a href="#" class="hover:text-white text-gray-400">GitHub</a>
      <a href="#" class="hover:text-white text-gray-400">LinkedIn</a>
      <a href="#" class="hover:text-white text-gray-400">Email</a>
    </div>
  </section>
</div>

<ng-template #loading>
  <div class="flex flex-col items-center justify-center min-h-[300px]">
    <!-- Optional spinner -->
    <svg
      class="animate-spin h-10 w-10 text-blue-600 mb-4"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        class="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        stroke-width="4"
      ></circle>
      <path
        class="opacity-75"
        fill="currentColor"
        d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4l-3 3 3 3h-4a8 8 0 01-8-8z"
      ></path>
    </svg>

    <p class="text-lg text-gray-600 font-medium animate-pulse">
      Loading portfolio...
    </p>
  </div>
</ng-template>
