<div
  class="max-w-xl mx-auto mt-10 bg-white/5 backdrop-blur rounded-lg p-8 border border-white/10 shadow-lg transition-transform duration-500 ease-in-out"
>
  <!-- Portfolio Create Form -->
  <div
    *ngIf="currentStep === 1"
    class="transition-opacity duration-500 ease-in-out"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">
      Create Your Portfolio
    </h2>

    <form #form="ngForm">
      <div class="mb-4">
        <label class="block text-gray-400 mb-2">Role</label>
        <input
          type="text"
          [(ngModel)]="portfolioObj.role"
          name="role"
          required
          #roleInput="ngModel"
          placeholder="e.g., Full Stack Developer"
          class="w-full px-4 py-2 bg-white/10 border border-blue/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200 placeholder-gray-400"
        />
        <div *ngIf="roleInput.errors?.['required'] && roleInput.touched">
          <p class="text-red-500 text-sm">Role is required.</p>
        </div>
      </div>

      <div class="mb-6">
        <label class="block text-gray-400 mb-2">Date of Birth</label>
        <input
          type="date"
          [(ngModel)]="portfolioObj.DOB"
          name="dob"
          required
          #dobInput="ngModel"
          class="w-full px-4 py-2 bg-white/10 border border-blue/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200 placeholder-gray-400"
        />
        <div *ngIf="dobInput.errors?.['required'] && dobInput.touched">
          <p class="text-red-500 text-sm">Date of Birth is required.</p>
        </div>
      </div>

      <button
        type="button"
        [disabled]="form.invalid"
        (click)="createPortfolio()"
        class="w-full text-white font-semibold py-3 rounded bg-blue-600 hover:bg-blue-700 transition disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500"
      >
        Save & Next →
      </button>
    </form>
  </div>

  <!-- About Section -->
  <div
    *ngIf="currentStep === 2"
    class="relative transition-opacity duration-500 ease-in-out bg-white/5 p-6 rounded-lg border border-white/10 max-w-xl mx-auto"
  >
    <!-- Skip button top-right -->
    <a
      class="absolute top-4 right-4 text-blue-500 hover:underline cursor-pointer"
    >
      Skip
    </a>

    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">About You</h2>

    <textarea
      name="about"
      [(ngModel)]="aboutObj.description"
      rows="6"
      placeholder="Write about your background, passions, and goals..."
      class="w-full p-4 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 resize-none"
    ></textarea>
    <div class="mb-6 flex flex-col">
      <label class="block text-gray-400 mb-2">Profile Image URL</label>
      <input
        type="text"
        [(ngModel)]="aboutObj.profileImageUrl"
        name="profileImageUrl"
        placeholder="Enter image URL"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
      />
      <!-- Preview image -->
      <img
        *ngIf="aboutObj.profileImageUrl"
        [src]="aboutObj.profileImageUrl"
        alt="Profile Preview"
        class="mt-3 w-28 h-28 object-cover rounded-full mb-4 border border-white/20 shadow mx-auto"
      />
    </div>

    <div class="flex justify-between">
      <a
        (click)="prevStep()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition cursor-pointer"
      >
        ← Back
      </a>
      <a
        (click)="createPortfolioAbout()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition cursor-pointer"
      >
        Save & Next →
      </a>
    </div>
  </div>

  <!-- Experience Section -->
  <div
    *ngIf="currentStep === 3"
    class="transition-opacity duration-500 ease-in-out"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">
      Experience
    </h2>
    <div class="mb-4 flex flex-col">
      <label class="block text-gray-700 mb-2">Title*</label>
      <input
        type="text"
        [(ngModel)]="experienceObj.title"
        name="title"
        placeholder="Ex. Retail Sales Manager"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Employment Type</label>
      <select
        [(ngModel)]="experienceObj.employementType"
        name="employmentType"
        [ngClass]="{
          'text-gray-400': !experienceObj.employementType,
          'text-gray-900': experienceObj.employementType
        }"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        <option value="" disabled [selected]="!experienceObj.employementType">
          Select employment type
        </option>
        <option *ngFor="let type of employmentTypes" [value]="type">
          {{ type }}
        </option>
      </select>
    </div>
    <div class="mb-4 flex flex-col">
      <label class="block text-gray-700 mb-2">Company or organization*</label>
      <input
        type="text"
        [(ngModel)]="experienceObj.companyName"
        name="companyName"
        placeholder="Ex. Microsoft, Google"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
      />
    </div>
    <div class="flex items-center mb-4">
      <input
        id="currently-working"
        type="checkbox"
        [(ngModel)]="experienceObj.isCurrentlyWorking"
        (change)="onCheckboxChange()"
        name="isCurrentlyWorking"
        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500"
      />
      <label
        for="currently-working"
        class="ms-2 text-sm font-medium text-gray-500"
        >I am currently working in this role</label
      >
    </div>

    <div class="flex flex-col md:flex-row gap-4 mb-4">
      <!-- Start Date -->
      <div class="w-full">
        <label class="block text-gray-700 mb-2">Start Date</label>
        <input
          type="date"
          [(ngModel)]="experienceObj.startDate"
          name="startDate"
          required
          class="w-full px-4 py-2 bg-white/10 border border-blue/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200"
        />
      </div>

      <!-- End Date -->
      <div class="w-full">
        <label class="block text-gray-700 mb-2">End Date</label>
        <input
          type="date"
          [(ngModel)]="experienceObj.endDate"
          name="endDate"
          [disabled]="experienceObj.isCurrentlyWorking"
          class="w-full px-4 py-2 bg-white/10 border border-blue/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200 disabled:bg-gray-600/30 disabled:cursor-not-allowed"
        />
      </div>
    </div>

    <textarea
      name="experienceDescription"
      [(ngModel)]="experienceObj.description"
      rows="4"
      placeholder="Describe your responsibilities, achievements, etc."
      class="w-full p-4 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
    ></textarea>

    <div class="flex justify-between mt-6">
      <button
        type="button"
        (click)="prevStep()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
      >
        ← Back
      </button>
      <button
        type="button"
        (click)="createPortfolioExperience()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Save & Next →
      </button>
    </div>
  </div>

  <!-- Skill Section -->
  <div
    *ngIf="currentStep === 4"
    class="transition-opacity duration-500 ease-in-out bg-white/5 p-6 rounded-lg border border-white/10 max-w-xl mx-auto"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">Skills</h2>

    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Add your skills*</label>
      <textarea
        [(ngModel)]="skillObj.skills"
        name="skills"
        rows="4"
        placeholder="e.g., Angular, .NET, SQL, Azure..."
        class="w-full p-4 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400"
      ></textarea>
    </div>

    <div class="flex justify-between mt-6">
      <button
        type="button"
        (click)="createPortfolioSkill()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
      >
        ← Back
      </button>
      <button
        type="button"
        (click)="createPortfolioSkill()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Save & Next →
      </button>
    </div>
  </div>

  <!-- certificate section -->
  <div
    *ngIf="currentStep === 6"
    class="transition-opacity duration-500 ease-in-out bg-white/5 p-6 rounded-lg border border-white/10 max-w-xl mx-auto"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">
      Certificates
    </h2>

    <!-- Title -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Title*</label>
      <input
        type="text"
        [(ngModel)]="certificateObj.title"
        name="title"
        placeholder="e.g., Azure Fundamentals"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Issuer -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Issuer*</label>
      <input
        type="text"
        [(ngModel)]="certificateObj.issuer"
        name="issuer"
        placeholder="e.g., Microsoft"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Issue Date & Expiry Date -->
    <div class="flex flex-col md:flex-row gap-4 mb-4">
      <div class="w-full">
        <label class="block text-gray-700 mb-2">Issue Date*</label>
        <input
          type="date"
          [(ngModel)]="certificateObj.issueDate"
          name="issueDate"
          required
          class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200"
        />
      </div>

      <div class="w-full">
        <label class="block text-gray-700 mb-2">Expiry Date</label>
        <input
          type="date"
          [(ngModel)]="certificateObj.expiryDate"
          name="expiryDate"
          class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200"
        />
      </div>
    </div>

    <!-- Description -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Description</label>
      <textarea
        [(ngModel)]="certificateObj.description"
        name="description"
        rows="3"
        placeholder="Brief description about the certificate"
        class="w-full p-4 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200 resize-none"
      ></textarea>
    </div>

    <!-- Certificate URL -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Certificate URL</label>
      <input
        type="url"
        [(ngModel)]="certificateObj.certificateUrl"
        name="certificateUrl"
        placeholder="e.g., https://example.com/certificate"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Buttons -->
    <div class="flex justify-between mt-6">
      <button
        type="button"
        (click)="prevStep()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
      >
        ← Back
      </button>
      <button
        type="button"
        (click)="createPortfolioCertificate()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Save & Next →
      </button>
    </div>
  </div>

  <!-- Project Section -->
  <div
    *ngIf="currentStep === 5"
    class="transition-opacity duration-500 ease-in-out bg-white/5 p-6 rounded-lg border border-white/10 max-w-xl mx-auto"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">Projects</h2>

    <!-- Title -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Title*</label>
      <input
        type="text"
        [(ngModel)]="projectObj.title"
        name="title"
        placeholder="e.g., Personal Project"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Description -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Description*</label>
      <textarea
        [(ngModel)]="projectObj.description"
        name="description"
        rows="3"
        placeholder="Brief description of your project"
        class="w-full p-4 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200 resize-none"
      ></textarea>
    </div>

    <!-- Start Date & End Date -->
    <div class="flex flex-col md:flex-row gap-4 mb-4">
      <div class="w-full">
        <label class="block text-gray-700 mb-2">Start Date*</label>
        <input
          type="date"
          [(ngModel)]="projectObj.startDate"
          name="startDate"
          required
          class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200"
        />
      </div>
      <div class="w-full">
        <label class="block text-gray-700 mb-2">End Date*</label>
        <input
          type="date"
          [(ngModel)]="projectObj.endDate"
          name="endDate"
          required
          class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-200"
        />
      </div>
    </div>

    <!-- Tech Stack -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Tech Stack*</label>
      <input
        type="text"
        [(ngModel)]="projectObj.techStack"
        name="techStack"
        placeholder="e.g., Angular, .NET, Tailwind"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Role -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Role*</label>
      <input
        type="text"
        [(ngModel)]="projectObj.role"
        name="role"
        placeholder="Enter Role in this project"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Live Link -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Live Link</label>
      <input
        type="url"
        [(ngModel)]="projectObj.liveLink"
        name="liveLink"
        placeholder="e.g., https://yourproject.com"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Repo Link -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Repository Link</label>
      <input
        type="url"
        [(ngModel)]="projectObj.repoLink"
        name="repoLink"
        placeholder="e.g., https://github.com/yourrepo"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Buttons -->
    <div class="flex justify-between mt-6">
      <button
        type="button"
        (click)="prevStep()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
      >
        ← Back
      </button>
      <button
        type="button"
        (click)="createPortfolioProject()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Save & Next →
      </button>
    </div>
  </div>
 
  <!-- Contact -Section  -->

   <div
    *ngIf="currentStep === 7"
    class="transition-opacity duration-500 ease-in-out bg-white/5 p-6 rounded-lg border border-white/10 max-w-xl mx-auto"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">Contacts</h2>

    <!-- Address -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">Address*</label>
      <input
        type="text"
        [(ngModel)]="contactObj.address"
        name="address"
        placeholder="Enter Address"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- LinkedInUrl -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">LinkedInUrl*</label>
      <input
        type="text"
        [(ngModel)]="contactObj.linkedInUrl"
        name="linkedInUrl"
        placeholder="Enter LinkedInUrl"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- LinkedInUrl -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">GitHubUrl*</label>
      <input
        type="text"
        [(ngModel)]="contactObj.gitHubUrl"
        name="gitHubUrl"
        placeholder="Enter GitHubUrl"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

     <!-- LinkedInUrl -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2">TwitterUrl</label>
      <input
        type="text"
        [(ngModel)]="contactObj.twitterUrl"
        name="twitterUrl"
        placeholder="Enter TwitterUrl"
        class="w-full px-4 py-2 bg-white/10 border border-blue-500/20 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400 text-gray-200"
      />
    </div>

    <!-- Buttons -->
    <div class="flex justify-between mt-6">
      <button
        type="button"
        (click)="prevStep()"
        class="py-3 px-6 bg-gray-600 text-white rounded hover:bg-gray-700 transition"
      >
        ← Back
      </button>
      <button
        type="button"
        (click)="createPortfolioContact()"
        class="py-3 px-6 bg-blue-600 text-white rounded hover:bg-blue-700 transition"
      >
        Save & Next →
      </button>
    </div>
  </div>
  <!-- Final Section -->
  <div
    *ngIf="currentStep === 8"
    class="transition-opacity duration-500 ease-in-out"
  >
    <h2 class="text-2xl font-bold text-gray-300 mb-6 text-center">
      All Done 🎉
    </h2>
    <p class="text-gray-400 text-center mb-6">
      You’ve completed your portfolio setup.
    </p>

    <button
      type="button"
      (click)="submitPortfolio()"
      class="w-full py-3 bg-green-600 text-white rounded hover:bg-green-700 transition font-semibold"
    >
      Submit Portfolio
    </button>
  </div>
</div>
